%rebase('base.html')

%board.dump()

<form action="/open/" method="POST">
    <h1>Igra</h1>
    <table>
    %for row in range(board.get_height()):
    <tr>
        %for col in range(board.get_width()):
        <td onclick="cell_indeks(this, {{row}}, {{col}})">
        <input type="submit" value="{{board.get_mine(row, col)}}">
        </td>    
        %end
    </tr>
    %end
    </table>
    <input type="number" id="selected_row" name="selected_row" value="" style="display: none">
    <input type="number" id="selected_col" name="selected_col" value="" style="display: none">  
</form>
<script>
    function cell_indeks(x, row, col) {
        document.getElementById("selected_row").value = row;
        document.getElementById("selected_col").value = col;
    }
</script>

<h1>Mine</h1>
<table>
%for row in range(board.get_height()):
<tr>
    %for col in range(board.get_width()):
    <td>
    <input type="submit" value="{{board.get_mine(row, col)}}">
    </td>    
    %end
</tr>
%end
</table>

<h1>Mine v sosedščini</h1>
<table>
%for row in range(board.get_height()):
<tr>
    %for col in range(board.get_width()):
    <td>
    <input type="submit" value="{{board.get_neighbour_mine_count(row, col)}}">
    </td>    
    %end
</tr>
%end
</table>